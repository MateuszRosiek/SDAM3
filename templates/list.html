{% extends 'base.html' %}

{% block title %} Questions List {% endblock %}

{% block body %}

<h1 class=" text-white">Questions List</h1>
    <div class="float-right">
<a href="{{ url_for('new_question') }}"><h4 class="text-center text-white">Add a new question</h4></a>
</div>
<table class="table table-striped table-dark">
    <thead>
        <tr>
            {% if order_direction == 'asc' %}
                {% set order_direction = 'desc' %}
            {% elif order_direction == 'desc' %}
                {% set order_direction = 'asc' %}
            {% endif %}

            {% for column in column_names %}
                    {% if column.column_name == 'submission_time' %}
                        <td><a href="{{ url_for('list_page', order_by=column.column_name, order_direction=order_direction)}}"><h3 class="text-white">{{ column.column_name }}</h3></a></td>
                    {% elif column.column_name == 'view_number'%}
                        <td><a href="{{ url_for('list_page', order_by=column.column_name, order_direction=order_direction)}}"><h3 class="text-white">{{ column.column_name }}</h3></a></td>
                    {% elif column.column_name == 'vote_number' %}
                        <td><a href="{{ url_for('list_page', order_by=column.column_name, order_direction=order_direction)}}"><h3 class="text-white">{{ column.column_name }}</h3></a></td>
                    {% elif column.column_name == 'title' %}
                        <td><a href="{{ url_for('list_page', order_by=column.column_name, order_direction=order_direction)}}"><h3 class="text-white">{{ column.column_name }}</h3></a></td>
                    {% endif %}
            {% endfor %}
        </tr>
    </thead>
    <tbody>
        {% for question in questions %}
            <tr scope="row">
                        <td><h4 class="text-white">{{ question.submission_time }}</h4></td>
                        <td><h4 class="text-white">{{ question.view_number }}</h4></td>
                        <td><h4 class="text-white">{{ question.vote_number }}</h4></td>
                        <td><a href={{ url_for('question_answer', question_id=question.id) }}><h4 class="text-white">{{ question.title }}</h4></a></td>
                    <td>
                        <form action="{{ url_for('vote_question_up', question_id=question.id)}}" method="post">
                            <input type="submit" class="btn btn-info" name="like" id="like" value="Like!">
                        </form>
                    </td>
                        <td>
                        <form action="{{ url_for('vote_question_down', question_id=question.id)}}" method="post">
                            <input type="submit" class="btn btn-light"  name="dislike" id="dislike" value="Dislike!">
                        </form>
                    </td>
            </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
